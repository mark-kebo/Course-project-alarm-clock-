MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;processor    PIC16F877
Warning[205]: Found directive in column 1. (include)
                      00002 include  <P16F877.INC>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Jul 02 2017
                      00005 ;  MPASM PIC16F877 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2017 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00541         LIST
Warning[205]: Found directive in column 1. (errorlevel)
                      00003 errorlevel   -302
                      00004         ;  директивы  типа  контроллера,  под-
                      00005         ;ключения  заголовочного  файла  и  вы-
                      00006         ;вода сообщений об ошибках
                      00007 #define   bank0  bcf STATUS,  RP0
                      00008 #define   bank1  bsf STATUS,  RP0
                      00009 ; директивы, позволяющие заменять в
                      00010         ;теле  ПО  команды,  указанные  после
                      00011         ;этой  директивы  (bcf  ,  bsf)  –  метками
                      00012         ;bank0, bank1. Обратную замену произ-
                      00013         ;водит компилятор
  00000020            00014 WAIT        equ     0x20
  00000026            00015 fCOUNTER    equ     0x26
  00000027            00016 fCOUNTER2   equ     0x27
  00000030            00017 TIME_HH1    equ     0x30
  00000031            00018 TIME_HH2    equ     0x31
  00000032            00019 TIME_MM1    equ     0x32
  00000033            00020 TIME_MM2    equ     0x33
  00000034            00021 TIME_SS1    equ     0x34
  00000035            00022 TIME_SS2    equ     0x35
  00000036            00023 DAY         equ     0x36
  00000037            00024 ALARM_HH1   equ     0x37
  00000038            00025 ALARM_HH2   equ     0x38
  00000039            00026 ALARM_MM1   equ     0x39
  0000003A            00027 ALARM_MM2   equ     0x3A
  0000003B            00028 Key1        equ     0x3B
  0000003C            00029 Key2        equ     0x3C
  0000003D            00030 Key3        equ     0x3D
  0000003E            00031 Key4        equ     0x3E
  0000003F            00032 Key5        equ     0x3F
  00000040            00033 Key6        equ     0x40
  00000041            00034 Key7        equ     0x41
  00000042            00035 Key8        equ     0x42
  00000043            00036 Key9        equ     0x43
  00000044            00037 fCOUNTER1   equ     0x44
  00000045            00038 TEMP_TIME_HH1    equ        0x45
  00000046            00039 TEMP_TIME_HH2    equ        0x46
  00000047            00040 TEMP_TIME_MM1    equ        0x47
  00000048            00041 TEMP_TIME_MM2    equ        0x48
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000049            00042 TEMP_TIME_SS1    equ        0x49
  0000004A            00043 TEMP_TIME_SS2    equ        0x4A
  0000004B            00044 TEMP_DAY         equ        0x4B
  0000004C            00045 TEMP_ALARM_HH1   equ        0x4C
  0000004D            00046 TEMP_ALARM_HH2   equ        0x4D
  0000004E            00047 TEMP_ALARM_MM1   equ        0x4E
  0000004F            00048 TEMP_ALARM_MM2   equ        0x4F
                      00049     ;вспомогательные  регистры,  назначе-
                      00050         ;ние которых приведено в комментариях
  0002                00051     constant   DS = .2
  0002                00052     constant   RST = .2
                      00053         ;  директивы,  ставящие в  соответствие
                      00054         ;меткам DS  и  RST  значение  0.  Анало-
                      00055         ;гия директив equ для имен регистров.
                      00056 
                      00057 wait  macro     time
                      00058     movlw    (time/5)-1
                      00059     movwf    WAIT
                      00060     call    wait5u
                      00061     endm
                      00062         ;макрос паузы с именем wait. Особен-
                      00063         ;ность этого макроса состоит в том, что
                      00064         ;у  него  имеется  параметр  –  time.  При
                      00065         ;вызове  макроса  значение  параметра
                      00066         ;указывается  после  имени  макроса  в
                      00067         ;виде  целого  десятичного  числа  крат-
                      00068         ;ного  5  (в  данном  примере).  В  теле
                      00069         ;макроса  это  число  подставляется  в
                      00070         ;«переменную» time и далее использу-
                      00071         ;ется вычисленное значение (которое в
                      00072         ;данном случае  выступает  в  роли  кон-
                      00073         ;станты, записываемой в W). Вместе с
                      00074         ;процедурой  wait5u  длительность  за-
                      00075         ;держки,  обеспечиваемая  макросом
                      00076         ;равна time микросекунд
                      00077 
                      00078     org 0x0000
0000   0183           00079     clrf STATUS
0001   3000           00080     movlw 0x00
0002   008A           00081     movwf PCLATH
0003   2???           00082     goto begin
                      00083         ;выбор нулевой страницы памяти ко-
                      00084         ;манд и размещение на ней откомпили-
                      00085         ;рованного кода
                      00086 
0004                  00087 begin
0004   1683           00088     bank1  ; выбор первого банка памяти. Для вы-
                      00089         ;зова используется метка bank1, объяв-
                      00090         ;ленная выше директивой #define
0005   308F           00091     movlw 0x8F
0006   0081           00092     movwf OPTION_REG
0007   0064           00093     clrwdt
                      00094         ;установка  максимального  времени
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00095         ;срабатывания  сторожевого  таймера  и
                      00096         ;его сброс
0008   018B           00097     clrf INTCON
0009   018C           00098     clrf PIE1
000A   018D           00099     clrf PIE2
                      00100         ;отключение  прерываний  и  их  обработки
000B   3000           00101     movlw .0
000C   0086           00102     movwf TRISB
000D   0087           00103     movwf TRISC
000E   0089           00104     movwf TRISE
                      00105         ; конфигурирование  портов  В, С, Е
000F   30F8           00106     movlw b'11111000' 
0010   0085           00107     movwf TRISA 
0011   3000           00108     movlw b'00000000'
0012   0088           00109     movwf TRISD
0013   300F           00110     movlw b'00001111'
0014   0081           00111     movwf OPTION_REG
                      00112         ;конфигурирование  RD0  как  входа
                      00113         ;для  установки  на  нем  «1»  в  качестве
                      00114         ;исходного  состояния  интерфейса  «1-Wire»
0015   019F           00115     clrf ADCON1 
0016   149F           00116     bsf ADCON1,0x01 
0017   151F           00117     bsf ADCON1,0x02 
0018   1283           00118     bank0
0019   01BB           00119     clrf Key1    
001A   01BC           00120     clrf Key2       
001B   01BD           00121     clrf Key3       
001C   01BE           00122     clrf Key4       
001D   01BF           00123     clrf Key5      
001E   01C0           00124     clrf Key6       
001F   01C1           00125     clrf Key7      
0020   01C2           00126     clrf Key8      
0021   01C3           00127     clrf Key9       
0022   0187           00128     clrf PORTC
0023   0188           00129     clrf PORTD
                      00130 ; подготовка к передаче команд на контроллер
                      00131 ;HD путем установки RC0=0
0024   3001           00132     movlw 0x01
0025   2???           00133     call write
0026   300F           00134     movlw 0x0f
0027   2???           00135     call delay
                      00136 ; передача команды Clear  Display для очистки
                      00137 ;дисплея и установки счетчика адреса видеопа-
                      00138 ;мяти  на  нулевой  адрес  (первое  знакоместо  в
                      00139 ;верхней строке), с необходимой задержкой
0028   0064           00140     clrwdt
0029   3038           00141     movlw 0x38
002A   2???           00142     call write
002B   300F           00143     movlw 0x0f
002C   2???           00144     call delay
                      00145 
                      00146 ; передача команды Function Set для установки
                      00147 ;режима  2-х  строчного  индикатора,  размера
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00148 ;знакоместа 5х7 и 8 разрядной шины данных
002D   3006           00149     movlw 0x06
002E   2???           00150     call write
002F   300F           00151     movlw 0x0f
0030   2???           00152     call delay
                      00153 ;передача  команды  Entry  Mode  Set  для  уста-
                      00154 ;новки режима увеличения счетчика адреса ви-
                      00155 ;деопамяти, после каждой записи символа в нее,
                      00156 ;при неподвижности видеопамяти относительно
                      00157 ;индикатора
0031   300C           00158     movlw 0x0c
0032   2???           00159     call write
0033   300F           00160     movlw 0x0f
0034   2???           00161     call delay
                      00162 ;  передача  команды  Display  ON/OFF  control
                      00163 ;для включения дисплея с отключенным курсо-
                      00164 ;ром.  На  этом  этап инициализации дисплея за-
                      00165 ;кончен.
0035   3033           00166         movlw   0x33
0036   00B0           00167         movwf   TIME_HH1
0037   3032           00168         movlw   0x32
0038   00B1           00169         movwf   TIME_HH2
0039   3030           00170         movlw   0x30
003A   00B2           00171         movwf   TIME_MM1
003B   3035           00172         movlw   0x35
003C   00B3           00173         movwf   TIME_MM2
003D   3030           00174         movlw   0x30
003E   00B4           00175         movwf   TIME_SS1
003F   00B5           00176         movwf   TIME_SS2
0040   00B7           00177         movwf   ALARM_HH1
0041   00B8           00178         movwf   ALARM_HH2
0042   00B9           00179         movwf   ALARM_MM1
0043   00BA           00180         movwf   ALARM_MM2
0044   00C5           00181         movwf   TEMP_TIME_HH1
0045   00C6           00182         movwf   TEMP_TIME_HH2
0046   00C7           00183         movwf   TEMP_TIME_MM1
0047   00C8           00184         movwf   TEMP_TIME_MM2
0048   00C9           00185         movwf   TEMP_TIME_SS1
0049   00CA           00186         movwf   TEMP_TIME_SS2
004A   00CC           00187         movwf   TEMP_ALARM_HH1
004B   00CD           00188         movwf   TEMP_ALARM_HH2
004C   00CE           00189         movwf   TEMP_ALARM_MM1
004D   00CF           00190         movwf   TEMP_ALARM_MM2
004E   3000           00191         movlw   .0
004F   00B6           00192         movwf   DAY
0050   00CB           00193         movwf   TEMP_DAY
                      00194 
0051                  00195 START
0051   2???           00196         call Keyboard
0052   183B           00197         btfsc Key1,0
0053   2???           00198         call change_time
                      00199         
                      00200         
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0054   1007           00201         bcf PORTC, 0
0055   3080           00202         movlw b'10000000'
0056   2???           00203         call write
0057   1407           00204         bsf PORTC,0
                      00205 
                      00206         ;Отрисовка первой строки
0058   0831           00207         movfw TIME_HH2
0059   2???           00208         call write
005A   0830           00209         movfw TIME_HH1
005B   2???           00210         call write
005C   303A           00211         movlw ':'
005D   2???           00212         call write
005E   0833           00213         movfw TIME_MM2
005F   2???           00214         call write
0060   0832           00215         movfw TIME_MM1
0061   2???           00216         call write
0062   303A           00217         movlw ':'
0063   2???           00218         call write
0064   0835           00219         movfw TIME_SS2
0065   2???           00220         call write
0066   0834           00221         movfw TIME_SS1
0067   2???           00222         call write
                      00223 
0068   3020           00224         movlw ' '
0069   2???           00225         call write
006A   3020           00226         movlw ' '
006B   2???           00227         call write
006C   0836           00228         movfw   DAY                             
006D   2???           00229         call    DEC                             
                      00230 
                      00231         ;Счет десятков секунд (0-6) - TIME_SS1
006E   0AB4           00232         incf TIME_SS1,1
006F   303A           00233         movlw 0x3A                      ; if !=10
0070   0634           00234         xorwf TIME_SS1, w;
0071   1D03           00235         btfss STATUS, 0x02
0072   2???           00236         goto end_clock
                      00237         ;обнуление TIME_MM1
0073   3030           00238         movlw 0x30
0074   00B4           00239         movwf   TIME_SS1
                      00240 
                      00241         ;Счет десятков секунд (0-6) - TIME_SS2
0075   0AB5           00242         incf TIME_SS2,1
0076   3036           00243         movlw 0x36                      ; if !=6
0077   0635           00244         xorwf TIME_SS2, w;
0078   1D03           00245         btfss STATUS, 0x02
0079   2???           00246         goto end_clock
                      00247         ;обнуление TIME_MM2
007A   3030           00248         movlw 0x30
007B   00B5           00249         movwf   TIME_SS2
                      00250         
                      00251         ;Счет десятков минут (0-6) - TIME_MM1
007C   0AB2           00252         incf TIME_MM1,1
007D   303A           00253         movlw 0x3A                      ; if !=10
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007E   0632           00254         xorwf TIME_MM1, w;
007F   1D03           00255         btfss STATUS, 0x02
0080   2???           00256         goto end_clock
                      00257         ;обнуление TIME_MM1
0081   3030           00258         movlw 0x30
0082   00B2           00259         movwf   TIME_MM1
                      00260 
                      00261         ;Счет десятков минут (0-6) - TIME_MM2
0083   0AB3           00262         incf TIME_MM2,1
0084   3036           00263         movlw 0x36                      ; if !=6
0085   0633           00264         xorwf TIME_MM2, w;
0086   1D03           00265         btfss STATUS, 0x02
0087   2???           00266         goto end_clock
                      00267         ;обнуление TIME_MM2
0088   3030           00268         movlw 0x30
0089   00B3           00269         movwf   TIME_MM2
                      00270 
                      00271         ;Счет десятков единиц часов - TIME_НН2, TIME_НН1
008A   0AB0           00272         incf TIME_HH1,1
008B   3034           00273         movlw 0x34                      ; if !=4
008C   0630           00274         xorwf TIME_HH1, w;
008D   1D03           00275         btfss STATUS, 0x02
008E   2???           00276         goto ten_clock
008F   3032           00277         movlw 0x32                      ; if !=2
0090   0631           00278         xorwf TIME_HH2, w;
0091   1D03           00279         btfss STATUS, 0x02
0092   2???           00280         goto ten_clock
0093   3030           00281         movlw 0x30
0094   00B0           00282         movwf   TIME_HH1
0095   00B1           00283         movwf   TIME_HH2
0096   0AB6           00284         incf    DAY,1
0097   3007           00285         movlw   .7                      ; inc переменной День
0098   0636           00286         xorwf DAY, w;
0099   1D03           00287         btfss STATUS, 0x02              ; Обнуление переменной при достижении воскресенья, 
009A   2???           00288         goto end_clock                  ; что бы при 00:00:00 перейти в понедельник
009B   3000           00289         movlw   .0
009C   00B6           00290         movwf   DAY
                      00291         
                      00292         
Warning[207]: Found label after column 1. (ten_clock)
009D                  00293         ten_clock
009D   303A           00294         movlw 0x3A                      ; if !=10
009E   0630           00295         xorwf TIME_HH1, w;
009F   1D03           00296         btfss STATUS, 0x02
00A0   2???           00297         goto end_clock
Message[305]: Using default destination of 1 (file).
00A1   0AB1           00298         incf    TIME_HH2
00A2   3030           00299         movlw 0x30
00A3   00B0           00300         movwf   TIME_HH1
                      00301         
00A4                  00302 end_clock
00A4   0064           00303         clrwdt
                      00304 
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A5   30FF           00305         movlw 0xff
00A6   2???           00306         call delay ;задержка крч
00A7   30FF           00307         movlw 0xff
00A8   2???           00308         call delay ;задержка крч
00A9   30FF           00309         movlw 0xff
00AA   2???           00310         call delay ;задержка крч
                      00311 
00AB   1007           00312         bcf PORTC, 0
00AC   30C4           00313         movlw b'11000100'
00AD   2???           00314         call write
                      00315 ; Установка RC0=0, для последующей передачи
                      00316 ;команды  на  контроллер  HD.  Передается  ко-
                      00317 ;манда Set DDRAM address,  устанавливающая
                      00318 ;счетчик  адреса  видеопамяти  на  начало  2-ой
                      00319 ;строки:  ячейку  с  адресом  (0х40  =  0100  0000).
                      00320 ;Это  необходимо  для  вывода  фразы  «TEM-
                      00321 ;PERATURA =» на второй строке индикатора.
                      00322 
00AE   1407           00323     bsf PORTC,0  ; установка RC0=1, для последующей передачи
                      00324 ;кодов символов второй строки на дисплей. Об-
                      00325 ;ратите внимание на то, что нигде не требуется
                      00326 ;изменения  банков  памяти: т.к. все регистры, с
                      00327 ;которыми работает ПО, находятся в 0-ом бан-
                      00328 ;ке.
00AF   3041           00329     movlw 'A'
00B0   2???           00330     call write
00B1   304C           00331     movlw 'L'
00B2   2???           00332     call write
00B3   3041           00333     movlw 'A'
00B4   2???           00334     call write
00B5   3052           00335     movlw 'R'
00B6   2???           00336     call write
00B7   304D           00337     movlw 'M'
00B8   2???           00338     call write
00B9   3020           00339     movlw ' '
00BA   2???           00340     call write
00BB   3020           00341     movlw ' '
00BC   2???           00342     call write
00BD   0838           00343     movfw ALARM_HH2
00BE   2???           00344     call write
00BF   0837           00345     movfw ALARM_HH1
00C0   2???           00346     call write
00C1   303A           00347     movlw ':'
00C2   2???           00348     call write
00C3   083A           00349     movfw ALARM_MM2
00C4   2???           00350     call write
00C5   0839           00351     movfw ALARM_MM1
00C6   2???           00352     call write
00C7   2???           00353     goto START
                      00354 
00C8                  00355 write    ; процедура записи байта к контроллер HD
00C8   1303           00356     bcf STATUS, RP1
00C9   1283           00357     bcf STATUS, RP0
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00CA   0086           00358     movwf PORTB
00CB   1507           00359     bsf PORTC, 2
00CC   3001           00360     movlw 0x01
00CD   2???           00361     call delay
00CE   1107           00362     bcf PORTC, 2
00CF   0008           00363     return
                      00364         ; перед вызовом этой процедуры в W помеща-
                      00365         ;ется байт, который надо записать в HD. Далее
                      00366         ;он передается в PORTB и формируется отрица-
                      00367         ;тельный перепад на RC2, путем предваритель-
                      00368         ;ной  его  установки  в  «1»,  удержания  этого
                      00369         ;уровня в течение некоторого времени (опреде-
                      00370         ;ляемого временем задержки delay  при  W=1) и
                      00371         ;сброса его в «0».
                      00372 
                      00373    ;  процедура  задержки,  время  которой  можно
                      00374         ;регулировать, задавая число в W
00D0                  00375 delay
00D0   1303           00376     bcf   STATUS, RP1
00D1   1283           00377     bcf   STATUS, RP0
00D2   00A7           00378     movwf   fCOUNTER2
00D3   01A6           00379     clrf    fCOUNTER
                      00380 
                      00381 
00D4                  00382 BD_Loop
00D4   0064           00383     clrwdt
00D5   0BA6           00384     decfsz  fCOUNTER, f
00D6   2???           00385     goto    BD_Loop
00D7   0BA7           00386     decfsz  fCOUNTER2, f
00D8   2???           00387     goto    BD_Loop
00D9   0008           00388     return
                      00389     
                      00390     ;---------
Warning[207]: Found label after column 1. (change_time)
00DA                  00391     change_time
00DA   2???           00392     call Keyboard
00DB   30FF           00393     movlw 0xff
00DC   2???           00394     call delay ;задержка крч
00DD   30FF           00395     movlw 0xff
00DE   2???           00396     call delay ;задержка крч
00DF   183B           00397     btfsc Key1,0
00E0   0AC6           00398     incf TEMP_TIME_HH2,1
00E1   183E           00399     btfsc Key4,0
00E2   2???           00400     goto START
                      00401     
00E3   1007           00402     bcf PORTC, 0
00E4   3080           00403     movlw b'10000000'
00E5   2???           00404     call write
00E6   1407           00405     bsf PORTC,0
                      00406         ;Отрисовка первой строки
00E7   0846           00407     movfw TEMP_TIME_HH2
00E8   2???           00408     call write
00E9   0845           00409     movfw TEMP_TIME_HH1
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00EA   2???           00410     call write
00EB   303A           00411     movlw ':'
00EC   2???           00412     call write
00ED   0848           00413     movfw TEMP_TIME_MM2
00EE   2???           00414     call write
00EF   0847           00415     movfw TEMP_TIME_MM1
00F0   2???           00416     call write
00F1   303A           00417     movlw ':'
00F2   2???           00418     call write
00F3   084A           00419     movfw TEMP_TIME_SS2
00F4   2???           00420     call write
00F5   0849           00421     movfw TEMP_TIME_SS1
00F6   2???           00422     call write
00F7   2???           00423     goto change_time
                      00424     ;---------
                      00425 
Message[305]: Using default destination of 1 (file).
00F8   0782           00426 DEC             addwf   PCL
00F9   2???           00427                 goto monday
00FA   2???           00428                 goto tuesday
00FB   2???           00429                 goto wednesday  
00FC   2???           00430                 goto thursday    
00FD   2???           00431                 goto friday             
00FE   2???           00432                 goto saturday           
00FF   2???           00433                 goto sunday             
0100   0008           00434                 return
                      00435                 
                      00436 ;Отрисовка дней недели
0101                  00437 monday          ;понедельник
0101   304D           00438     movlw 'M'
0102   2???           00439     call write
0103   304F           00440     movlw 'O'
0104   2???           00441     call write
0105   304E           00442     movlw 'N'
0106   2???           00443     call write
0107   2???           00444     goto exday
0108                  00445 tuesday         ;вторник
0108   3054           00446     movlw 'T'
0109   2???           00447     call write
010A   3055           00448     movlw 'U'
010B   2???           00449     call write
010C   3045           00450     movlw 'E'
010D   2???           00451     call write
010E   2???           00452     goto exday
010F                  00453 wednesday       ;среда
010F   3057           00454     movlw 'W'
0110   2???           00455     call write
0111   3045           00456     movlw 'E'
0112   2???           00457     call write
0113   3044           00458     movlw 'D'
0114   2???           00459     call write
0115   2???           00460     goto exday
0116                  00461 thursday        ;четверг
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0116   3054           00462     movlw 'T'
0117   2???           00463     call write
0118   3048           00464     movlw 'H'
0119   2???           00465     call write
011A   3055           00466     movlw 'U'
011B   2???           00467     call write
011C   2???           00468     goto exday
011D                  00469 friday          ;пятница
011D   3046           00470     movlw 'F'
011E   2???           00471     call write
011F   3052           00472     movlw 'R'
0120   2???           00473     call write
0121   3049           00474     movlw 'I'
0122   2???           00475     call write
0123   2???           00476     goto exday
0124                  00477 saturday        ;суббота
0124   3053           00478     movlw 'S'
0125   2???           00479     call write
0126   3041           00480     movlw 'A'
0127   2???           00481     call write
0128   3054           00482     movlw 'T'
0129   2???           00483     call write
012A   2???           00484     goto exday
012B                  00485 sunday          ;воскресенье
012B   3053           00486     movlw 'S'
012C   2???           00487     call write
012D   3055           00488     movlw 'U'
012E   2???           00489     call write
012F   304E           00490     movlw 'N'
0130   2???           00491     call write
Warning[207]: Found label after column 1. (exday)
0131                  00492     exday
Warning[203]: Found opcode in column 1. (return)
0131   0008           00493 return
                      00494       
                      00495     ;==============================================
0132                  00496 Keyboard
0132   1283           00497     bcf STATUS, RP0
0133   1303           00498     bcf STATUS, RP1
0134   01BB           00499     clrf Key1 
0135   01BC           00500     clrf Key2 
0136   01BD           00501     clrf Key3
0137   01BE           00502     clrf Key4 
0138   01BF           00503     clrf Key5 
0139   01C0           00504     clrf Key6
013A   01C1           00505     clrf Key7 
013B   01C2           00506     clrf Key8 
013C   01C3           00507     clrf Key9
                      00508     
013D                  00509 col1
013D   1405           00510     bsf PORTA,0
013E   1085           00511     bcf PORTA,1
013F   1105           00512     bcf PORTA,2
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00513     
                      00514     ;movlw .24
                      00515     ;call small_delay
                      00516     
0140   0805           00517     movf PORTA,W
0141   3938           00518     andlw 0x38
                      00519     
0142   1903           00520     btfsc STATUS,Z
0143   2???           00521     goto col2
                      00522     ;movlw .250
                      00523     ;call small_delay
                      00524     
0144   1985           00525     btfsc PORTA,3
0145   0ABB           00526     incf Key1,F
0146   1A05           00527     btfsc PORTA,4
0147   0ABE           00528     incf Key4,F
0148   1A85           00529     btfsc PORTA,5
0149   0AC1           00530     incf Key7,F
                      00531     
014A                  00532 col2
014A   1005           00533     bcf PORTA,0
014B   1485           00534     bsf PORTA,1
014C   1105           00535     bcf PORTA,2
                      00536     
                      00537     ;movlw .24
                      00538     ;sd
                      00539     
014D   0805           00540     movf PORTA,W
014E   3938           00541     andlw 0x38
                      00542     
014F   1903           00543     btfsc STATUS,Z
0150   2???           00544     goto col3
                      00545     ;movlw .250
                      00546     ;sd
                      00547     
0151   1985           00548     btfsc PORTA,3
0152   0ABC           00549     incf Key2,F
0153   1A05           00550     btfsc PORTA,4
0154   0ABF           00551     incf Key5,F
0155   1A85           00552     btfsc PORTA,5
0156   0AC2           00553     incf Key8,F
                      00554     
0157                  00555 col3
0157   1005           00556     bcf PORTA,0
0158   1085           00557     bcf PORTA,1
0159   1505           00558     bsf PORTA,2
                      00559     
                      00560     ;movlw .24
                      00561     ;sd
                      00562     
015A   0805           00563     movf PORTA,W
015B   3938           00564     andlw 0x38
                      00565     
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015C   1903           00566     btfsc STATUS,Z
015D   0008           00567     return          ;hz
                      00568     ;movlw .250
                      00569     ;sd
                      00570     
015E   1985           00571     btfsc PORTA,3
015F   0ABD           00572     incf Key3,F
0160   1A05           00573     btfsc PORTA,4
0161   0AC0           00574     incf Key6,F
0162   1A85           00575     btfsc PORTA,5
0163   0AC3           00576     incf Key9,F
0164   0008           00577     return
                      00578 ;==============================================
                      00579     
Warning[203]: Found opcode in column 1. (goto)
0165   2???           00580 goto START
                      00581   
0166                  00582 small_delay:
0166   00C4           00583     movwf fCOUNTER1
0167   0064           00584     clrwdt
0168   0BC4           00585     decfsz fCOUNTER1,F
0169   2???           00586     goto $-2
016A   0008           00587     return
Warning[205]: Found directive in column 1. (end)
                      00588 end  ; конец программы
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ALARM_HH1                         00000037
ALARM_HH2                         00000038
ALARM_MM1                         00000039
ALARM_MM2                         0000003A
BCLIE                             00000003
BCLIF                             00000003
BD_Loop                           000000D4
BF                                00000000
BRGH                              00000002
C                                 00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CKE                               00000006
CKP                               00000004
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

CREN                              00000004
CSRC                              00000007
D                                 00000005
DATA_ADDRESS                      00000005
DAY                               00000036
DC                                00000001
DEC                               000000F8
DS                                00000002
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
Key1                              0000003B
Key2                              0000003C
Key3                              0000003D
Key4                              0000003E
Key5                              0000003F
Key6                              00000040
Key7                              00000041
Key8                              00000042
Key9                              00000043
Keyboard                          00000132
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RST                               00000002
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
START                             00000051
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TEMP_ALARM_HH1                    0000004C
TEMP_ALARM_HH2                    0000004D
TEMP_ALARM_MM1                    0000004E
TEMP_ALARM_MM2                    0000004F
TEMP_DAY                          0000004B
TEMP_TIME_HH1                     00000045
TEMP_TIME_HH2                     00000046
TEMP_TIME_MM1                     00000047
TEMP_TIME_MM2                     00000048
TEMP_TIME_SS1                     00000049
TEMP_TIME_SS2                     0000004A
TIME_HH1                          00000030
TIME_HH2                          00000031
TIME_MM1                          00000032
TIME_MM2                          00000033
TIME_SS1                          00000034
TIME_SS2                          00000035
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

UA                                00000001
W                                 00000000
WAIT                              00000020
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_.org_0_0169                      00000169
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00000FCF
_CP_HALF                          00001FDF
_CP_OFF                           00003FFF
_CP_UPPER_256                     00002FEF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_OFF                   00003DFF
_WRT_ENABLE_ON                    00003FFF
_WRT_OFF                          00003DFF
_WRT_ON                           00003FFF
_XT_OSC                           00003FFD
__16F877                          00000001
bank0                             bcf STATUS,  RP0
bank1                             bsf STATUS,  RP0
begin                             00000004
change_time                       000000DA
col1                              0000013D
MPASM 5.75                       FISH2_4.ASM   10-13-2017  7:14:38         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

col2                              0000014A
col3                              00000157
delay                             000000D0
end_clock                         000000A4
exday                             00000131
fCOUNTER                          00000026
fCOUNTER1                         00000044
fCOUNTER2                         00000027
friday                            0000011D
monday                            00000101
saturday                          00000124
small_delay                       00000166
sunday                            0000012B
ten_clock                         0000009D
thursday                          00000116
tuesday                           00000108
wait                              
wednesday                         0000010F
write                             000000C8

Errors   :     0
Warnings :     8 reported,     0 suppressed
Messages :     2 reported,    12 suppressed

